<div id="display-container" #displayContainer class="d-flex justify-content-center">
    <div id="display-dimension-container" #displayDimensionContainer
        (wheel)="zoomWithCursor($event)"
        (mousedown)="shiftingProcessControlWithCursor(true, $event)" oncontextmenu="return false;" (mousemove)="shiftWithCursor($event)" 
        (mouseup)="shiftingProcessControlWithCursor(false, $event)" (mouseleave)="shiftingProcessControlWithCursor(false, $event)">
        <img id="background-image" #backgroundImage [src]="imgSrc" (load)="onImageLoad()">
        <svg #svgContainer [ngStyle]="{cursor: canvasCursor}"
            (mousemove)="updateCurcorCoordinates($event)" (mouseleave)="hideCursorCoordinates()"
            (mousedown)="moveLineProcessControl(true)" (mouseup)="moveLineProcessControl(false)"
            (click)="onCanvasClick()">
            <circle *ngIf="extremities[0]" [attr.cx]="extremities[0]" [attr.cy]="extremities[1]" r="3"/>
            <circle *ngIf="extremities[0]" [attr.cx]="extremities[2]" [attr.cy]="extremities[3]" r="3"/>

            <circle *ngIf="lineBeingEditedExtremities[0]" [attr.cx]="lineBeingEditedExtremities[0]" [attr.cy]="lineBeingEditedExtremities[1]" r="3"/>
            <circle *ngIf="lineBeingEditedExtremities[2]" [attr.cx]="lineBeingEditedExtremities[2]" [attr.cy]="lineBeingEditedExtremities[3]" r="3"/>
            
            <line [ngStyle]="{cursor: lineCursor}"
                *ngFor="let line of lineSetToDisplayCoorAdjusted; let lineIndex = index;"
                [attr.x1]="line[0]" [attr.y1]="line[1]" [attr.x2]="line[2]" [attr.y2]="line[3]"
                (mouseover)="onLineMouseEvents(lineIndex)" (mouseleave)="onLineMouseEvents()"
                (click)="onLineClick(lineIndex)"/>
        </svg>
    </div>

    <div class="d-flex flex-row mt-auto mb-1 mr-auto">
        <button class="btn btn-outline-secondary ml-1" *ngIf="imgLoaded"
            (mousedown)="zoomingProcessControl(true, true)" (mouseup)="zoomingProcessControl(false)" 
            (mouseleave)="zoomingProcessControl(false)">
            <i class="fas fa-search-plus"></i>
        </button>
        <button class="btn btn-outline-secondary ml-1" *ngIf="imgLoaded"
            (mousedown)="zoomingProcessControl(true, false)" (mouseup)="zoomingProcessControl(false)" 
            (mouseleave)="zoomingProcessControl(false)">
            <i class="fas fa-search-minus"></i>
        </button>
    </div>
    <div #verticalShiftButtonContainer id="vertical-shift-button-container" class="d-flex flex-row">
        <button #shiftUpButton class="shift-button btn btn-outline-secondary align-self-start" *ngIf="imgLoaded" 
            (mousedown)="shiftingProcessControl(true, 'Up')" (mouseup)="shiftingProcessControl(false)" 
            (mouseleave)="shiftingProcessControl(false)">
            <i class="fas fa-arrow-up"></i>
        </button>
        <button #shiftDownButton class="shift-button btn btn-outline-secondary align-self-end" *ngIf="imgLoaded" 
            (mousedown)="shiftingProcessControl(true, 'Down')" (mouseup)="shiftingProcessControl(false)" 
            (mouseleave)="shiftingProcessControl(false)">
            <i class="fas fa-arrow-down"></i>
        </button>
    </div>
    <div #horizontalShiftButtonContainer id="horizontal-shift-button-container" class="d-flex flex-column align-self-center">
        <button #shiftLeftButton class="shift-button btn btn-outline-secondary align-self-start" *ngIf="imgLoaded" 
            (mousedown)="shiftingProcessControl(true, 'Left')" (mouseup)="shiftingProcessControl(false)" 
            (mouseleave)="shiftingProcessControl(false)">
            <i class="fas fa-arrow-left"></i>
        </button>
        <button #shiftRightButton class="shift-button btn btn-outline-secondary align-self-end" *ngIf="imgLoaded" 
            (mousedown)="shiftingProcessControl(true, 'Right')" (mouseup)="shiftingProcessControl(false)" 
            (mouseleave)="shiftingProcessControl(false)">
            <i class="fas fa-arrow-right"></i>
        </button>
    </div>
    <div class="zoom-info mt-auto ml-auto text-center" *ngIf="imgLoaded">
        <p>
          <em>
              <span>Display Ratio:{{zoomInfo.percentage}}</span>
              <span> Shift-X:{{zoomInfo.shift.x}}</span>
              <span> Shift-Y:{{zoomInfo.shift.y}}</span>
          </em>
        </p>
      </div>
</div>
